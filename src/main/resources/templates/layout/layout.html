<!--
  共通レイアウト定義
  Thymeleaf Layout Dialect でレイアウトを定義する
-->
<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap -->
  <link th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link th:href="@{/webjars/bootstrap-icons/font/bootstrap-icons.css}" rel="stylesheet">
  <!-- App.CSS -->
  <link th:href="@{/css/app.css}" rel="stylesheet">
  <title>社員情報App</title>
</head>

<body>
  <!-- サイドバーを配置（全画面共通） -->
  <th:block th:replace="~{fragments/sidebar :: sidebar}"></th:block>

  <!-- エラーページを配置 -->
  <!-- Springが設定するエラーメッセージの有無で判定 -->
  <th:block th:if="${!#strings.isEmpty(error)}">
    <th:block layout:fragment="errorPage"></th:block>
  </th:block>

  <!-- 各画面のコンテンツを配置 -->
  <th:block th:if="${#strings.isEmpty(error)}">
    <!-- メインコンテンツ -->
    <main class="offcanvas-outside bg-light">
      <!-- コンテナ -->
      <div class="container-fluid">
        <!-- 部品：サイドバーを表示するトグルボタン -->
        <!-- 画面が小さい時のみ表示 -->
        <th:block th:replace="~{fragments/sidebar :: toggler}"></th:block>
        <!-- カード -->
        <div class="card shadow">
          <!-- カード：ヘッダ -->
          <header class="card-header">
            <h6 class="common__text--navy my-2">
              <!-- レイアウト：コンテンツタイトル -->
              <!-- 各画面のタイトルを配置 -->
              <div layout:fragment="contents-title"></div>
            </h6>
          </header>
          <!-- カード：ボディ -->
          <section class="card-body">
            <!-- レイアウト：コンテンツボディ -->
            <!-- 各画面のコンテンツを配置 -->
            <div layout:fragment="contents-body"></div>
          </section>
        </div>
      </div>
    </main>
  </th:block>

  <!-- jQuery -->
  <script th:src="@{/webjars/jquery/jquery.min.js}"></script>
  <!-- Bootstrap -->
  <script th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
  <!-- app.js -->
  <script th:src="@{/js/app.js}"></script>
</body>

</html>